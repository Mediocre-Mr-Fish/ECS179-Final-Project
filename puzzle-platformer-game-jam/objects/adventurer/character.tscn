[gd_scene load_steps=23 format=3 uid="uid://d1yawef1k6tj7"]

[ext_resource type="Script" uid="uid://r608l0e2ljol" path="res://objects/adventurer/player.gd" id="1_uh16x"]
[ext_resource type="Script" uid="uid://ckjtyknpdr1bh" path="res://hurt_box.gd" id="2_dxb8j"]
[ext_resource type="Texture2D" uid="uid://dyfwvhmqw0txo" path="res://assets/Adventure_Platformer/Player/Player_Character_Sheet_V3.png" id="3_0f76q"]
[ext_resource type="Script" uid="uid://cfgh6coc1lm6b" path="res://objects/adventurer/character_facing.gd" id="4_0f76q"]

[sub_resource type="Animation" id="Animation_m25c5"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2i(0, 2)]
}

[sub_resource type="Animation" id="Animation_sf7d6"]
resource_name = "idle"
loop_mode = 1
step = 0.25
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.5, 0.75),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 0), Vector2i(1, 0), Vector2i(2, 0), Vector2i(3, 0)]
}

[sub_resource type="Animation" id="Animation_uh16x"]
resource_name = "jump"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2i(0, 2)]
}

[sub_resource type="Animation" id="Animation_0f76q"]
resource_name = "move"
loop_mode = 1
step = 0.14285715
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.14285715, 0.2857143, 0.42857146, 0.5714286, 0.71428573, 0.8571429),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 2), Vector2i(1, 2), Vector2i(2, 2), Vector2i(3, 2), Vector2i(4, 2), Vector2i(5, 2), Vector2i(6, 2)]
}

[sub_resource type="Animation" id="Animation_v863a"]
resource_name = "wall cling"
loop_mode = 1
step = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1.0352646),
"update": 0,
"values": [Vector2i(0, 5), Vector2i(1, 5)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_0f76q"]
_data = {
&"RESET": SubResource("Animation_m25c5"),
&"idle": SubResource("Animation_sf7d6"),
&"jump": SubResource("Animation_uh16x"),
&"move": SubResource("Animation_0f76q"),
&"wall cling": SubResource("Animation_v863a")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xkyvh"]
size = Vector2(21, 29)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2cn7m"]
size = Vector2(21, 29)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_k3gmc"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uh16x"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gum5t"]
animation = &"move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0f76q"]
animation = &"wall cling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o8rgo"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qe6jg"]
advance_mode = 2
advance_condition = &"moving"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m25c5"]
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0f76q"]
advance_mode = 2
advance_condition = &"jumping"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sf7d6"]
advance_mode = 2
advance_condition = &"on_floor"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_uh16x"]
states/Start/position = Vector2(193, 100)
states/idle/node = SubResource("AnimationNodeAnimation_k3gmc")
states/idle/position = Vector2(390, 100)
states/jump/node = SubResource("AnimationNodeAnimation_uh16x")
states/jump/position = Vector2(390, 3)
states/move/node = SubResource("AnimationNodeAnimation_gum5t")
states/move/position = Vector2(518, 100)
"states/wall cling/node" = SubResource("AnimationNodeAnimation_0f76q")
"states/wall cling/position" = Vector2(545, 3)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_o8rgo"), "idle", "move", SubResource("AnimationNodeStateMachineTransition_qe6jg"), "move", "idle", SubResource("AnimationNodeStateMachineTransition_m25c5"), "idle", "jump", SubResource("AnimationNodeStateMachineTransition_0f76q"), "jump", "idle", SubResource("AnimationNodeStateMachineTransition_sf7d6")]
graph_offset = Vector2(27, -53)

[node name="CharacterBody2D" type="CharacterBody2D"]
script = ExtResource("1_uh16x")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_0f76q")
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(9.5, 1.5)
shape = SubResource("RectangleShape2D_xkyvh")

[node name="HurtBox" type="Area2D" parent="."]
script = ExtResource("2_dxb8j")
metadata/_custom_type_script = "uid://ckjtyknpdr1bh"

[node name="CollisionShape2D" type="CollisionShape2D" parent="HurtBox"]
position = Vector2(9.5, 1.5)
shape = SubResource("RectangleShape2D_2cn7m")
disabled = true

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(10, 0)
scale = Vector2(80, 80)
texture = ExtResource("3_0f76q")
hframes = 7
vframes = 7
frame = 14
script = ExtResource("4_0f76q")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_uh16x")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/idle = false
parameters/conditions/jumping = false
parameters/conditions/moving = false
parameters/conditions/on_floor = false
